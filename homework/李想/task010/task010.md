---
title: task010：浮动、定位
author: Li Xiang
date: 2016-10-22 14:36:16
layout: post
tags: []
categories: []
---

> 课程目标
> 掌握定位几种方式
> 掌握浮动的原理及作用
> 理解文档流的概念
> 使用定位、浮动实现常见布局
> 学习建议
> 定位、浮动是 CSS 核心知识点

---

# 课程任务 #

## 问答 ##

### 文档流的概念指什么？有哪种方式可以让元素脱离文档流? ###

文档流，即常规流（normal flow）：元素按照其在 HTML 中的位置顺序决定排布的过程，主要的形式是自上而下，一行接一行，每一行从左至右。

通过设置绝对定位 `position: absolute;` 或者 `position: fixed;` 和浮动 `float` 可以让元素脱离文档流。

### 有几种定位方式，分别是如何实现定位的，使用场景如何？ ###

常见的定位方式有一下四种。

定位方式 | 实现 | 使用场景
:-------|:----|:--------
`static` | 默认值 | 当元素不需要特殊定位时使用
`relative` | 可以通过设置 `top` `right` `bottom` `left` 属性来改变其位置 | 需要特殊定位，但不脱离文档流
`absolute` | 可以通过设置 `top` `right` `bottom` `left` 属性来改变其位置，其位置当对于最近的已被定位的祖先元素 | 需要特殊定位，且脱离文档流，将一元素固定于父元素容器某一位置
`fixed` | 元素相对于视窗定位，可以通过设置 `top` `right` `bottom` `left` 属性来改变其位置 | 当需要元素不随页面滚动而滚动时使用

### absolute, relative, fixed 偏移的参考点分别是什么 ###

`absolute`：参考最近的被特殊定位的祖先元素，如果没有，则参考 body 元素。
`relative`：和 `static` 一样，按照正常的文档流进行定位，参考点为最近的块级框、表单元格或行内祖先框的内容边界。
`fixed`：参照视窗定位。

### z-index 有什么作用? 如何使用? ###

`z-index` 用来设置元素的叠层顺序。拥有更高堆叠顺序的元素（值越大）总是会处于堆叠顺序较低的元素的前面，其值可正可负，默认为0。

### position:relative 和负 margin 都可以使元素位置发生偏移？二者有什么区别 ###

相对定位与 margin 都能使元素位置发生偏移。但是两者有一些差别。

margin 是用来设置元素盒子之间的间距。相对定位是用来对自身进行排版布局。margin 的偏移会导致前后元素的偏移，元素之间的距离改变了。而相对定位的改变对前后的元素位置没有影响。

### 如何让一个固定宽高的元素在页面上垂直水平居中? ###

- 如果知道居中元素和其父元素的尺寸，可以通过绝对定位，然后设置负偏移 margin 来垂直水平居中。
- 如果居中元素和父元素的尺寸位置未知，那么可以通过设置父元素显视模式为 `table` 居中元素为 `table-cell`，然后设置属性 `text-align: center; vertical-align: middle;` 实现垂直水平居中。
- 还有其他类型的垂直居中方式：flex 居中，transform 居中，绝对定位百分数，button 居中。

居中真是个很烦人的问题。

### 浮动元素有什么特征？对其他浮动元素、普通元素、文字分别有什么影响? ###

浮动元素脱离普通流，被浮动于其容器的左侧或右侧，直到接触到容器边缘或者其他浮动元素边缘，周围的文字和行内元素会环绕它。浮动元素会覆盖掉非浮动块级元素，但文字和行内元素会环绕其周围。当父容器的高度小于浮动元素的高时，浮动元素高出的部分会超出父容器。其他的浮动元素会受到前面的浮动元素的影响，位置会与最近的浮动元素有关。浮动的副作用包括影响它的兄弟元素的位置和父元素高度塌陷。

浮动可以使一些元素改变其显示属性的值，`inline` 和 `inline-block` 以及 `table-*` 等元素都会变为 `block` 块级元素。`inline-block` 则会编程 `table`。浮动对 `flex` `inline-flex` 的显示方式没有影响。

> 一个元素设置了浮动后，会影响它的兄弟元素，具体的影响方式较为复杂，这要视乎这些兄弟元素是块级元素还是内联元素，若是块级元素会无视这个浮动的块框，也就是我们平时看到的效果——使到自身尽可能与这个浮动元素处于同一行，导致被浮动元素覆盖，除非这些 div 设置了宽度，并且父元素的宽度不足以包含它们，这样兄弟元素才会被强制换行；若是内联元素，则会尽可能围绕浮动元素。

> 另外，浮动的元素脱离了普通流，这样使得包含它的父元素并不会因为这个浮动元素的存在而自动撑高，这样就会造成高度塌陷。

### 清除浮动指什么? 如何清除浮动? ###

清除浮动就是指去掉某个元素的浮动特性，消除浮动的副作用。

> 清除浮动 `clear` 有 both/left/right/none/inherit 几个属性值，分别代表在元素左右两侧不允许出现浮动元素/左侧不允许出现浮动元素/右侧不允许出现浮动元素/不清除浮动/继承父元素的值。

几种清除浮动的方法：
- 空 `div` 元素
- `:after` 伪元素
- 设置父元素的 `overflow: hidden/auto;` 闭合浮动

## 代码 ##

### 写出如下两栏布局，其中中间区块宽度 900px，居中，左侧边栏宽度 200px，右侧边栏宽度 700px ###

> 做完可参考范例
> ps: 图片左浮动，导航栏整体右浮动，导航栏里面的li元素左浮动。
> ps: aside左浮动，main左浮动
> 凡是有浮动的地方，其直接父元素必须清除浮动

[Codepen](http://codepen.io/lix90/pen/YGrPqo?editors=1100#0)

### 不适用背景图片实现如下效果 ###

[Codepen](http://codepen.io/lix90/pen/ozOgjm)

<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<style>
    li,ul{
        margin: 0;
        padding: 0;
        list-style: none;
    }
    .img-ct li {
        float: left;
        margin-left: 29px;
        margin-bottom: 79px;
    }
    .img-ct {
        margin-left: -28px;
    }
    .img-ct:after {
        content: '';
        display: block;
        clear: both;
    }
    #img-parent {
        width: 960px;
        margin: 0 auto;
        border: 1px solid;
    }
    #img-parent .img-ct li img {
        width: 300px;
        height: 300px;
    }
</style>
<body>
<div id="img-parent">
    <ul class="img-ct">
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/111.jpg" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/222.jpg" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/333.jpg" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/444.jpg" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/555.gif" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/666.gif" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/777.gif" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/888.gif" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/999.gif" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/10.gif" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/11.jpeg" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/111.jpg" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/222.jpg" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/333.jpg" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/444.jpg" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/555.gif" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/666.gif" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/777.gif" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/888.gif" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/999.gif" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/10.gif" alt=""></a></li>
        <li><a href=""><img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
                            data-img="./image/11.jpeg" alt=""></a></li>
    </ul>
</div>
<script src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.js"></script>
<script>
    var clock;
    checkShow();
    $(window).on('scroll', function () {
        if(clock) {
            clearTimeout(clock);
        }
        clock = setTimeout(function () {
            checkShow();
        }, 500)
    });
    function checkShow() { //要这个checkShow的原因是第一次载入页面的时候需要进行判断，
        $('.img-ct li img').each(function(){//这个时候并没有滚动。所以单独拿出来调用就行了。也利于代码的模块化。
            var $ele = $(this);//注意之前自己做遇到的问题是难道要给每一个都设置锚点，然后页面滚动到那个位置就去判断？那个是回到顶部的做法。两个搞混了。
            if($ele.data('isshow')){//就算回到顶部，也不一定要设置锚点。直接写个数字就行了。比如scrllH> 500px。
                return;//这里直接用each循环，其实就相当于开始的想法。因为每个图片都需要判断。
            }
            if(isShow($ele)){ //isShow()是用来判断是否出现在可视范围内，
                showImg($ele);
            }
        })
    }
    function isShow($ele) {
        var winH = $(window).height(),
            eleOffset = $ele.offset().top,
            scrollH = $(window).scrollTop();
        if(winH + scrollH > eleOffset){
            return true; //之前想的另一个思路，想成根据data-img的值来判断是否show。这里是直接根据位置到了就返回true，执行showImg显示图片
        } else{
            return false;
        }
    } //判断是否已经展示，是根据鼠标滚动位置来的
    function showImg($ele) {
        $ele.attr('src', $ele.data('img'))
                .data('isshow', true);
    }
</script>
</body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Untitled Document</title>
    <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
    <style>
        .go-top {
            width: 100px;
            color: white;
            background: #aaa;
            text-align: center;
            padding: 20px 0px;
            border-radius: 4px;
            position: fixed;
            bottom: 10px;
            right: 10px;
            cursor: pointer;
        }
        
        .wrap {
            width: 100%;
            height: 2000px;
        }
    </style>
</head>

<body>
    <div class="wrap"></div>
    <!--<div class='goback-top'>回到顶部</div>-->
    <script>
        var GoTop = function($ct) {
            this.ct = $ct
            this.target = $('<div class="go-top">回到顶部</div>')
        }
        GoTop.prototype = {
            constructor: GoTop,
            createNode: function() {
                console.log(4)
                this.ct.append(this.target)
                this.target.hide()
            },
            bindEvent: function() {
                $goTop = this.target
                console.log(2)
                $goTop.on('click', function() {
                    $(window).scrollTop(0)
                })
                $(window).on('scroll', function() {
                    $this = $(this)
                    if ($this.scrollTop() > 100) {
                        $goTop.show()
                        console.log(1)
                    } else {
                        $goTop.hide()
                        console.log(3)
                    }
                })
            }
        }
        var goTop = new GoTop($('.wrap'))
        goTop.createNode()
        goTop.bindEvent()
    </script>
</body>

</html>